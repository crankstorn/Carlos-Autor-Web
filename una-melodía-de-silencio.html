<!DOCTYPE html>
<html lang="es">
<head>
    <!-- ===== METADATOS ESENCIALES ===== -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Una Melodía de Silencio - La nueva novela de Carlos Ramírez</title>
    <meta name="description" content="Explora los misterios de 'Una Melodía de Silencio', un thriller ambientado entre Copenhague y Mallorca. Conoce la sinopsis, lee reseñas y descubre el universo del libro.">

    <!-- ===== FAVICON ===== -->
    <link rel="icon" href="https://placehold.co/32x32/1A202C/FDFBF7?text=CR&font=playfair-display" type="image/png">

    <!-- ===== LIBRERÍAS Y FUENTES EXTERNAS ===== -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Inter:wght@400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- ===== DATOS ESTRUCTURADOS (SEO) ===== -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Book",
      "name": "Una Melodía de Silencio",
      "url": "https://URL-DEL-SITIO-WEB.com/una-melodía-de-silencio.html",
      "author": {
        "@type": "Person",
        "@id": "https://URL-DEL-SITIO-WEB.com/#person"
      },
      "image": "https://URL-DEL-SITIO-WEB.com/images/portada-libro.jpg",
      "isbn": "978-0-123456-78-9",
      "bookFormat": "https://schema.org/Paperback",
      "abstract": "Cuando Tom, un guitarrista callejero de Mallorca, se enamora de la enigmática Eli, su mundo se transforma en una búsqueda que lo lleva hasta Copenhague. Allí, descubrirá que la familia de Eli esconde un secreto ancestral de seres primigenios y poderes extraordinarios. Perseguidos por una misteriosa organización, Tom se verá envuelto en una batalla por la supervivencia y el amor en un mundo donde lo mítico colisiona con lo real.",
      "review": [
        {
          "@type": "Review",
          "reviewBody": "Una trama que te engancha desde la primera página. No pude soltarlo.",
          "author": { "@type": "Organization", "name": "Blog 'Lectores Voraces'" }
        },
        {
          "@type": "Review",
          "reviewBody": "El contraste entre Copenhague y Mallorca está tan bien descrito que sientes que estás allí.",
          "author": { "@type": "Person", "name": "Anna B." }
        },
        {
          "@type": "Review",
          "reviewBody": "Un final sorprendente. Carlos Ramírez es un maestro del suspense.",
          "author": { "@type": "Organization", "name": "Revista 'Misterio y Letras'" }
        }
      ]
    }
    </script>

    <!-- ===== ESTILOS PERSONALIZADOS ===== -->
    <style>
        /* ===== 1. VARIABLES DE COLOR Y CONFIGURACIÓN GLOBAL ===== */
        :root {
            --color-accent: #493547; /* Berenjena oscuro */
            --color-accent-hover: #66495E;
            --color-bg: #FDFBF7; /* Pergamino claro */
            --color-text-primary: #1A1A1A; /* Negro Suave */
            --color-text-secondary: #5c5c5c; /* Gris oscuro */

            /* Colores para secciones oscuras */
            --color-dark-bg: #1A202C; /* Azul Noche Profundo */
            --color-dark-text-primary: #F7FAFC; /* Texto claro */
            --color-dark-text-secondary: #A0AEC0; /* Texto secundario claro */
        }
        html {
            scroll-behavior: smooth;
        }

        /* ===== 2. TIPOGRAFÍA ===== */
        body {
            font-family: 'Inter', sans-serif;
            color: var(--color-text-primary);
            background-color: var(--color-bg);
        }
        h1, h2, h3, h4, h5, h6, .font-serif {
            font-family: 'Playfair Display', serif;
            font-weight: 400;
        }

        /* ===== 3. COMPONENTES REUTILIZABLES ===== */
        .logo-text {
            font-family: 'Playfair Display', serif;
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--color-text-primary);
            transition: color 0.3s ease-out;
        }
        .logo-link:hover .logo-text {
            color: var(--color-accent);
        }

        .cta-button {
            background-color: var(--color-accent);
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px 0 rgba(47, 79, 79, 0.3);
        }
        .cta-button:hover {
            transform: scale(1.05);
            background-color: var(--color-accent-hover);
            box-shadow: 0 6px 20px 0 rgba(47, 79, 79, 0.4);
        }

        .button-secondary {
            background-color: transparent;
            border: 2px solid var(--color-accent);
            color: var(--color-accent);
        }
        .button-secondary:hover {
            background-color: var(--color-accent);
            color: var(--color-bg);
        }

        .nav-active {
            font-weight: 600;
            color: var(--color-accent);
        }

        .dark-section {
            background-color: var(--color-dark-bg);
            background-image: url(https://www.transparenttextures.com/patterns/dark-stone.png);
        }
        .dark-section h1, .dark-section h2, .dark-section h3, .dark-section p, .dark-section a, .dark-section span {
            color: var(--color-dark-text-primary);
        }
        .dark-section p, .dark-section .form-input, .dark-section nav a, .dark-section .social-icon {
             font-family: 'Inter', sans-serif;
        }
        .dark-section .form-input {
             background-color: #2D3748;
             border-color: #4A5568;
        }
        .dark-section .footer-link {
            color: var(--color-dark-text-secondary);
        }
        .dark-section .footer-link:hover {
            color: var(--color-dark-text-primary);
            text-decoration: underline;
        }

        /* Separador con Título (estilo consistente) */
        .title-separator {
            display: flex;
            align-items: center;
            text-align: center;
            color: var(--color-text-primary);
            margin-top: 1.5rem; /* Espacio superior añadido */
            margin-bottom: 3rem; /* Espacio inferior aumentado */
        }
        .title-separator::before,
        .title-separator::after {
            content: '';
            flex: 1;
            border-bottom: 1px solid #EBE3D8;
        }
        .title-separator:not(:empty)::before {
            margin-right: 1.5em;
        }
        .title-separator:not(:empty)::after {
            margin-left: 1.5em;
        }

        /* ===== 4. ANIMACIONES Y EFECTOS ESPECIALES ===== */
        .fade-in-section {
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 0.8s ease-out, transform 0.8s ease-out;
        }
        .fade-in-section.is-visible {
            opacity: 1;
            transform: translateY(0);
        }

        .easter-egg-note {
            font-size: 1.5rem;
            line-height: 1;
            cursor: pointer;
            color: #20c2c2;
            opacity: 0;
            text-shadow: 0 0 8px rgba(32, 194, 194, 0);
            transition: opacity 0.3s ease-in-out, text-shadow 0.3s ease-in-out;
        }
        .easter-egg-note:hover {
            opacity: 1;
            text-shadow: 0 0 10px rgba(32, 194, 194, 1),
                         0 0 20px rgba(32, 194, 194, 0.7);
        }
        #secret-modal-overlay, #other-stores-modal-overlay {
            transition: opacity 0.3s ease-out;
        }
        #secret-modal, #other-stores-modal {
            transition: transform 0.3s ease-out, opacity 0.3s ease-out;
            transform: translateY(20px) scale(0.95);
        }
        #secret-modal-overlay.show #secret-modal, #other-stores-modal-overlay.show #other-stores-modal {
            transform: translateY(0) scale(1);
        }

        #back-to-top-btn {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            z-index: 50;
            opacity: 0;
            visibility: hidden;
            transform: translateY(1rem);
            transition: opacity 0.3s, visibility 0.3s, transform 0.3s;
        }
        #back-to-top-btn.show {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }
    </style>
</head>
<body class="antialiased">

    <header id="header" class="bg-white/90 backdrop-blur-md shadow-sm sticky top-0 z-40">
        <div class="container mx-auto px-6 py-3 flex justify-between items-center">
            <a href="./index.html" class="logo-link">
                <span class="logo-text">CARLOS RAMÍREZ</span>
            </a>
            <div class="flex items-center gap-8">
                <nav id="main-nav" class="hidden md:flex items-center space-x-8">
                    <a href="./index.html" class="text-zinc-600 hover:text-[--color-accent] transition duration-300">Inicio</a>
                    <a href="./una-melodía-de-silencio.html" class="text-zinc-600 hover:text-[--color-accent] transition duration-300">El Libro</a>
                    <a href="./autor.html" class="text-zinc-600 hover:text-[--color-accent] transition duration-300">Sobre Carlos</a>
                    <a href="./noticias.html" class="text-zinc-600 hover:text-[--color-accent] transition duration-300">Noticias</a>
                    <a href="./contacto.html" class="text-zinc-600 hover:text-[--color-accent] transition duration-300">Contacto</a>
                </nav>
                <div class="hidden md:block">
                    <span id="easter-egg-trigger" class="easter-egg-note">𝄽</span>
                </div>
                <button id="mobile-menu-button" class="md:hidden text-zinc-800 focus:outline-none">
                    <i class="fas fa-bars w-6 h-6"></i>
                </button>
            </div>
        </div>
        <div id="mobile-menu" class="hidden md:hidden bg-white border-t border-zinc-200">
             <a href="./index.html" class="block px-6 py-3 text-sm text-zinc-700 hover:bg-zinc-50">Inicio</a>
            <a href="./una-melodía-de-silencio.html" class="block px-6 py-3 text-sm text-zinc-700 hover:bg-zinc-50">El Libro</a>
            <a href="./autor.html" class="block px-6 py-3 text-sm text-zinc-700 hover:bg-zinc-50">Sobre Carlos</a>
            <a href="./noticias.html" class="block px-6 py-3 text-sm text-zinc-700 hover:bg-zinc-50">Noticias</a>
            <a href="./contacto.html" class="block px-6 py-3 text-sm text-zinc-700 hover:bg-zinc-50">Contacto</a>
        </div>
    </header>

    <main>
        <!-- ===== SECCIÓN DEL LIBRO ===== -->
        <section class="bg-[--color-bg] pt-16 pb-8 fade-in-section">
            <div class="container mx-auto px-6">
                <div class="flex flex-col md:flex-row items-start gap-8 md:gap-12">
                    <div class="md:w-1/3 flex-shrink-0">
                        <img src="https://placehold.co/400x600/1A202C/FDFBF7?text=Portada" alt="Portada de 'Una Melodía de Silencio'" class="rounded-lg shadow-2xl w-full max-w-sm mx-auto" onerror="this.onerror=null;this.src='https://placehold.co/400x600/1A202C/FDFBF7?text=Error';">
                    </div>
                    <div class="md:w-2/3">
                        <h1 class="text-4xl lg:text-5xl">Una Melodía de Silencio</h1>
                        <p class="text-xl text-zinc-600 mt-2 font-serif italic">Su amor es música. Su secreto, guerra.</p>
                       <div class="text-lg text-[--color-text-secondary] mt-6 leading-relaxed">
                            <section>
                                <p>Para Tom, la música es un don y una maldición. Un virtuoso de la guitarra capaz de silenciar un pub entero con una sola nota, pero cuya soberbia y orgullo le condenan a malvivir en las calles de Mallorca, saboteando cada oportunidad que se le presenta. Algunos dirían que está desperdiciando su vida, atrapado en la monótona rutina de cafés baratos y futuros inciertos. Pero esa rutina se rompe en mil pedazos la noche que conoce a Eli.</p>
                            </section>
                            <section class="mt-4">
                                <p>Ella no es solo una bajista enigmática; su música desafía las leyes de la física y su mirada esconde secretos de siglos. Eli ofrece a Tom algo que nunca creyó merecer: un dúo perfecto, una sintonía que va más allá de lo musical. Pero esa conexión tiene un precio.</p>
                            </section>
                            <section class="mt-4">
                                <p>Arrastrado a una guerra que se libra en los rincones oscuros de Europa, desde Palma hasta Copenhague, Tom se convierte en una pieza inesperada dentro de un juego mortal cuyas normas desconoce. Con la ayuda de Eli, deberá enfrentarse a un mundo tejido en sombras, y a los monstruos que habitan en él, si pretende proteger a Isa y Richi, su única familia. O morir en el intento.</p>
                            </section>
                        </div>
                        <div class="mt-8">
                            <h3 class="text-2xl mb-4">Consíguelo ahora</h3>
                            <div class="flex flex-wrap gap-4">
                                <a href="#" class="cta-button text-white font-bold py-3 px-6 rounded-lg">Comprar en Amazon</a>
                                <button id="open-stores-modal-btn" class="button-secondary font-bold py-3 px-6 rounded-lg transition-all duration-300">Otras tiendas</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- ===== SECCIÓN DE RESEÑAS ===== -->
        <section class="pt-8 pb-8 fade-in-section">
            <div class="container mx-auto px-6 text-center">
                <h2 class="title-separator text-4xl">Lo que dicen los lectores</h2>
                <div class="grid md:grid-cols-3 gap-8 max-w-5xl mx-auto">
                    <div class="bg-white/50 p-6 rounded-lg shadow-lg border border-stone-200">
                        <p class="italic text-zinc-700">"Una trama que te engancha desde la primera página. No pude soltarlo."</p>
                        <p class="font-bold mt-4 font-serif text-[--color-text-primary]">- Blog 'Lectores Voraces'</p>
                    </div>
                    <div class="bg-white/50 p-6 rounded-lg shadow-lg border border-stone-200">
                        <p class="italic text-zinc-700">"El contraste entre Copenhague y Mallorca está tan bien descrito que sientes que estás allí."</p>
                        <p class="font-bold mt-4 font-serif text-[--color-text-primary]">- Anna B., Goodreads</p>
                    </div>
                    <div class="bg-white/50 p-6 rounded-lg shadow-lg border border-stone-200">
                        <p class="italic text-zinc-700">"Un final sorprendente. Carlos Ramírez es un maestro del suspense."</p>
                        <p class="font-bold mt-4 font-serif text-[--color-text-primary]">- Revista 'Misterio y Letras'</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- ===== SECCIÓN DE SPOTIFY ===== -->
        <section class="pt-8 pb-16 fade-in-section">
            <div class="container mx-auto px-6 text-center">
                <h2 class="title-separator text-4xl">La Banda Sonora del Libro</h2>
                <p class="max-w-3xl mx-auto text-lg text-[--color-text-secondary] mb-8">
                    Sumérgete aún más en el universo de "Una Melodía de Silencio". Cada canción ha sido seleccionada para acompañar los momentos clave de la novela, desde las calles de Mallorca hasta los misterios de Copenhague.
                </p>
                <div class="max-w-3xl mx-auto shadow-lg rounded-lg overflow-hidden">
                    <iframe style="border-radius:12px" src="https://open.spotify.com/embed/playlist/5ZTNoqczlRLRplcp3fXShT?utm_source=generator" width="100%" height="352" frameBorder="0" allowfullscreen="" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" loading="lazy"></iframe>
                </div>
            </div>
        </section>
    </main>

    <footer class="dark-section py-12">
        <div class="container mx-auto px-6">
            <nav class="mb-8 flex justify-center flex-wrap gap-x-6 gap-y-2 text-sm">
                <a href="./index.html" class="footer-link">Inicio</a>
                <a href="./una-melodía-de-silencio.html" class="footer-link">El Libro</a>
                <a href="./autor.html" class="footer-link">Sobre Carlos</a>
                <a href="./noticias.html" class="footer-link">Noticias</a>
                <a href="./contacto.html" class="footer-link">Contacto</a>
            </nav>
            <div class="text-center">
                <div class="flex justify-center space-x-6 mb-6">
                    <a href="#" class="social-icon footer-link text-2xl" aria-label="Enlace a Twitter"><i class="fab fa-twitter"></i></a>
                    <a href="#" class="social-icon footer-link text-2xl" aria-label="Enlace a Instagram"><i class="fab fa-instagram"></i></a>
                    <a href="#" class="social-icon footer-link text-2xl" aria-label="Enlace a Goodreads"><i class="fab fa-goodreads"></i></a>
                </div>
                <div class="text-sm footer-link">
                    <a href="./assets/press_kit/kit_de_prensa.zip" download class="footer-link">Kit de Prensa</a>
                    <span class="mx-2">|</span>
                    <p class="inline">&copy; <span id="year"></span> Carlos Ramírez. Todos los derechos reservados.</p>
                </div>
            </div>
        </div>
    </footer>

    <a href="#" id="back-to-top-btn" class="p-3 rounded-full bg-[--color-accent] text-white shadow-lg hover:bg-[--color-accent-hover]">
        <i class="fas fa-arrow-up"></i>
    </a>

    <div id="other-stores-modal-overlay" class="fixed inset-0 bg-black bg-opacity-70 z-[100] flex items-center justify-center p-4 hidden opacity-0">
        <div id="other-stores-modal" class="bg-white p-8 rounded-lg shadow-2xl w-full max-w-md relative">
            <button id="close-stores-modal-btn" class="absolute top-4 right-4 text-zinc-500 hover:text-zinc-800 text-2xl">&times;</button>
            <h3 class="text-2xl mb-6 text-center">Otras Tiendas Online</h3>
            <div class="space-y-4">
                <a href="#" class="block w-full text-center bg-gray-100 hover:bg-gray-200 py-3 px-4 rounded-lg font-semibold transition">Casa del Libro</a>
                <a href="#" class="block w-full text-center bg-gray-100 hover:bg-gray-200 py-3 px-4 rounded-lg font-semibold transition">Fnac</a>
                <a href="#" class="block w-full text-center bg-gray-100 hover:bg-gray-200 py-3 px-4 rounded-lg font-semibold transition">El Corte Inglés</a>
            </div>
        </div>
    </div>

    <div id="secret-modal-overlay" class="fixed inset-0 bg-black bg-opacity-70 z-[100] flex items-center justify-center p-4 hidden opacity-0">
        <div id="secret-modal" class="bg-white p-8 rounded-lg shadow-2xl w-full max-w-md relative text-center">
            <button id="close-secret-modal-btn" class="absolute top-2 right-4 text-zinc-500 hover:text-zinc-800 text-3xl">&times;</button>
            <p class="text-xl italic text-zinc-700 leading-relaxed font-serif">
                Has encontrado un momento de silencio. A veces, es la curiosidad la que nos regala las sonrisas más inesperadas. Gracias por tu curiosidad.
            </p>
            <p class="text-right mt-4 font-semibold text-zinc-800">- Carlos Ramírez Hernández</p>
        </div>
    </div>


    <script>
        document.addEventListener('DOMContentLoaded', () => {

            // Lógica genérica para cualquier modal
            const initModal = (triggerBtnId, overlayId, closeBtnId, modalId) => {
                const triggerBtn = document.getElementById(triggerBtnId);
                const overlay = document.getElementById(overlayId);
                const closeBtn = document.getElementById(closeBtnId);
                const modal = document.getElementById(modalId);

                if (triggerBtn && overlay && closeBtn && modal) {
                    const openModal = () => {
                        overlay.classList.remove('hidden');
                        setTimeout(() => {
                            overlay.classList.add('opacity-100');
                            modal.classList.add('show');
                        }, 10);
                    };

                    const closeModal = () => {
                        overlay.classList.remove('opacity-100');
                        modal.classList.remove('show');
                        setTimeout(() => overlay.classList.add('hidden'), 300);
                    };

                    triggerBtn.addEventListener('click', openModal);
                    closeBtn.addEventListener('click', closeModal);
                    overlay.addEventListener('click', (e) => {
                        if (e.target === overlay) closeModal();
                    });
                    document.addEventListener('keydown', (e) => {
                        if (e.key === "Escape" && !overlay.classList.contains('hidden')) {
                            closeModal();
                        }
                    });
                }
            };

            // Inicializar los dos modales
            initModal('easter-egg-trigger', 'secret-modal-overlay', 'close-secret-modal-btn', 'secret-modal');
            initModal('open-stores-modal-btn', 'other-stores-modal-overlay', 'close-stores-modal-btn', 'other-stores-modal');

            // Lógica del menú móvil
            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');
            if (mobileMenuButton && mobileMenu) {
                mobileMenuButton.addEventListener('click', () => { mobileMenu.classList.toggle('hidden'); });
            }

            // Año actual en el footer
            const yearSpan = document.getElementById('year');
            if(yearSpan) { yearSpan.textContent = new Date().getFullYear(); }

            // Lógica de animaciones de entrada
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) { entry.target.classList.add('is-visible'); }
                });
            }, { rootMargin: '0px 0px -100px 0px' });
            const sections = document.querySelectorAll('.fade-in-section');
            sections.forEach(section => { observer.observe(section); });

            // Lógica del botón para volver arriba
            const backToTopBtn = document.getElementById('back-to-top-btn');
            if (backToTopBtn) {
                window.addEventListener('scroll', () => {
                    if (window.scrollY > 300) { backToTopBtn.classList.add('show'); }
                    else { backToTopBtn.classList.remove('show'); }
                });
                backToTopBtn.addEventListener('click', (e) => {
                    e.preventDefault();
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                });
            }

            // Lógica para marcar el enlace activo en la navegación (CORREGIDO)
            const navLinks = document.querySelectorAll('#main-nav a, #mobile-menu a');
            const currentPathname = window.location.pathname;

            navLinks.forEach(link => {
                // El objeto 'link' (HTMLAnchorElement) tiene una propiedad 'pathname' que el navegador
                // resuelve a la ruta correcta, incluso para href relativos. Esto evita errores con 'new URL()'.
                const linkPathname = link.pathname;

                link.classList.remove('nav-active');
                link.removeAttribute('aria-current');

                // Compara las rutas normalizadas (eliminando las barras finales si existen)
                const cleanCurrentPath = currentPathname.replace(/\/$/, "");
                const cleanLinkPath = linkPathname.replace(/\/$/, "");

                if (cleanLinkPath === cleanCurrentPath) {
                    link.classList.add('nav-active');
                    link.setAttribute('aria-current', 'page');
                }
                // Caso especial para la página de inicio (index.html)
                if (cleanLinkPath.endsWith('/index.html') && cleanCurrentPath === '') {
                    link.classList.add('nav-active');
                    link.setAttribute('aria-current', 'page');
                }
            });

        });
    </script>
</body>
</html>
